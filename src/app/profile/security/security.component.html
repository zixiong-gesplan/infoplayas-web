<ng4-loading-spinner></ng4-loading-spinner>
<section class="blog-header blog-page-padding-top" data-parallax="scroll" data-image-src="assets/images/play.jpg"
         style="background-image: url('assets/images/play.jpg'); background-size: cover; background-position: center center;">
  <div class="container">
    <div class="padding-top-30 padding-bottom-70">
      <h2 class="font-size-72px top20 bottom10 text-color-white text-center text-capitalize">Plan de Seguridad y Salvamento</h2>
    </div>
  </div>
</section>
<!-- security Header End -->

<!--security Details Starts-->
<section id="shop" class="paddingtopbottom100px">
  <div class="container">
    <div class="section-title text-center">
        <h2 class="text-color-grey-646464 font-weight-700 padding-bottom-20 bottom50 position-relative text-capitalize text-center">Playas del municipio de: {{nomMunicipio | titlecase}} <i class="fa fa-cog  pointer" aria-hidden="true" title="Añada los precios unitarios" (click)="configuracion()"></i></h2>
    </div>

    <p-table *ngFor="let playa of datosPlaya.features">
      <ng-template pTemplate="header" >
          <tr>
              <th colspan="3" class="centrar"><span style="color:#8CBB28">IDGSE: {{playa.attributes.id_dgse}} - {{!playa.attributes.nombre_municipio ? 'Nombre sin asignar' : playa.attributes.nombre_municipio}} </span> <span class="font-style-1  blue-color">{{playa.attributes.clasificacion}} </span>
               <i style="color:#F96054" *ngIf="playa.attributes.clasificacion==='USO PROHIBIDO'" class="fa fa-ban" aria-hidden="true" title="Playa de USO PROHIBIDO {{playa.attributes.objectid_12}}"></i>
               <i style="color:#F96054" *ngIf="playa.attributes.clasificacion==='PENDIENTE'" class="fa fa-info" aria-hidden="true" title="Clasificación PENDIENTE"></i>
               <i style="color:#FA924A" *ngIf="playa.attributes.clasificacion==='PELIGROSA'" class="fa fa-exclamation-triangle" aria-hidden="true" title="Playa PELIGROSA"></i>
               <i style="color:#54A777" *ngIf="playa.attributes.clasificacion==='LIBRE'" class="fa fa-check" aria-hidden="true" title="Playa LIBRE"></i>
              </th>
          </tr>
          <tr *ngIf="playa.attributes.clasificacion!='USO PROHIBIDO'">
              <th class="centrar">Añadir medios humanos <i *ngIf="playa.attributes.clasificacion!='PENDIENTE'" class="fa fa-plus-circle pointer" aria-hidden="true" (click)="anhadir_medios(playa,'humanos')" title="Añadir medios humano y medios materiales"></i><br></th>
              <th class="centrar">Añadir medios materiales <i *ngIf="playa.attributes.clasificacion!='PENDIENTE'" class="fa fa-plus-circle pointer" aria-hidden="true" (click)="anhadir_medios(playa,'materiales')" title="Añadir medios humano y medios materiales"></i> <br></th>
              <th class="centrar">Horarios salvamento <i *ngIf="playa.attributes.clasificacion!='PENDIENTE'" class="fa fa-plus-circle pointer" aria-hidden="true" (click)="anhadir_medios(playa,'horarios')" title="Añadir medios humano y medios materiales"></i> <br></th>
          </tr>
          <tr *ngIf="playa.attributes.clasificacion==='USO PROHIBIDO'">
              <th colspan="3" class="centrar">Añadir Medios <i class="fa fa-plus-circle pointer" aria-hidden="true" (click)="anhadir_medios(playa,'bajo')" title="Añadir medios humano y medios materiales"></i><br><span style="font-size: 0.7em;">(Sin servicio de salvamento)</span></th></tr>
              <tr>
                <th colspan="3" class="centrar">
                  <button type="button" class="btn btn-info btn-sm"  (click)="meteo(playa)"><i class="fa fa-sun-o"></i> Información meteorológica</button>
                </th>
              </tr>
            <tr>
                <td colspan="3"><hr></td>
              </tr>

      </ng-template>
  </p-table>

  </div>
</section>
<!--security Details End-->

<!-- Modal medio humanos-->
<div class="modal fade" tabindex="-1" role="dialog" id="humanos">
  <div class="modal-dialog modal-dialog-main modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" (click)="default()">&times;</span></button>
        <h4 class="modal-title text-center" style="color:#8CBB28">IDGSE: {{iddgse}} - {{!nombre_playa ? 'Nombre sin asignar' : nombre_playa}} - {{clasificacion | titlecase}}
          <div class="container">
            <div class="row">
              <!-- <div class="col">
                <label style="font-size:0.7em; color: black" >Grado de protección:</label>
                <select id="inputState" class="form-control form-control-sm">
                  <option selected>Seleccione grado de protección</option>
                  <option>Alto</option>
                  <option>Medio</option>
                  <option>Bajo</option>
                </select>
              </div> -->
            </div>
          </div>
          </h4>
      </div>
      <div class="modal-body">
        <!-- <h4 [hidden]="peligrosa" class="centrar text-color-grey-646464 font-weight-700">Medios Humanos <i class="fa fa-calculator pointer" style="font-size:20px !important;" aria-hidden="true" title="Valoración economica del equipo humano" (click)="calculadora('humanos')"></i></h4> -->
        <p-table *ngFor="let gradoP of gradeService.filterRecords">
          <ng-template pTemplate="header" >
            <tr>
              <th colspan="9" class="centrar">
                <span *ngIf="gradoP==='B'">Grado Medio</span>
                <span *ngIf="gradoP==='M'">Grado Medio</span>
                <span *ngIf="gradoP==='A'">Grado Alto</span>
              </th>
            </tr>
            <tr>
              <th class="tamanhofont">Nº de días</th>
              <th class="tamanhofont">Longitud</th>
              <th class="tamanhofont">Jefatura de playa o turno</th>
              <th class="tamanhofont">Socorrista en torre o silla de vigilancia</th>
              <th class="tamanhofont">Socorrista de actividades acuáticas y vigilancia a pie de agua</th>
              <th class="tamanhofont">Socorrista actividades acuáticas</th>
              <th class="tamanhofont">Socorrista vigilancia a pie de agua</th>
              <th class="tamanhofont">Socorrista embarcación</th>
              <th class="tamanhofont">Socorrista embarcación con PER</th>
            </tr>
            <tr>
              <th class="centrar"><input type="number"  id="ndias" class="form-control  inputCustom"  readonly></th>
              <th class="centrar"><input type="number"  id="longitud" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="number"  id="storre" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="number"  id="sacuaticaspie" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="number"  id="sacuaticas" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="number"  id="spieagua" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="number"  id="smbarcacion" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="number"  id="sper" class="form-control  inputCustom" value="0"></th>

            </tr>
            <br>
            <hr>
            </ng-template >
        </p-table>
      </div>
      <div class="modal-footer botonCentrado">
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button> -->
        <button type="button" class="btn btn-primary">Actualizar</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" tabindex="-1" role="dialog" id="materiales">
  <div class="modal-dialog modal-dialog-main modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" (click)="default()">&times;</span></button>
        <h4 class="modal-title text-center" style="color:#8CBB28">IDGSE: {{iddgse}} - {{!nombre_playa ? 'Nombre sin asignar' : nombre_playa}} - {{clasificacion | titlecase}}</h4>
      </div>
  <div class="modal-body">
 <h4 class="centrar text-color-grey-646464 font-weight-700"  title="Artículo 9, 10 y Anexo III del Decreto 116/2018: Artículo 9. Banderas.
1. La señalización de las playas conforme a su clasificación, así como la determinación de las condiciones de seguridad para el baño, se efecturará mediante la utilización de banderas, que podrán ser generales o complementarias. (...)
(...)
4. Las banderas generales tendrán forma rectangular, de un metro y medio de alto por un metro de largo, ubicadas sobre mástiles que sobresalgan de la tierra como mínimo de tres metros y perfectamente visibles desde todos los accesos a las playas.
Artículo 10. Carteles Informativos.
1. Se colocará en cada playa en sitio visible, especialmente en los accesos habituales, un cartel o carteles con la descripción gráfica de la misma…
Anexo III. Colores, significado y criterios de utilizzación de las banderas.
1. Además de las banderas generales previstas en el artículo 9 del presente Decreto, los Planes de Seguridad y Salvamento contemplarán al menos las siguientes banderas complementarias, cuyo significado ha de figurar en la cartelería de la playa u otra zona de baño marítima y, al menos, en los idiomas español e ingles, así como un tercer idioma a deterimar en el Plan de Seguridad y Salvamento:
a) De zonificación de actividad en la playa (...)
b) De peligros específicos (...)
c) De zona segura (...)
(...)
3. Sin perjuicio de las futuras modificaciones del Anexo III, los Planes de Seguridad y Salvamento podrán contemplar otras banderas complementarias, en tanto no sustituyan a las generales y su significado figure de manera comprensiva en la cartelería y, al menos, en los idiomas español e inglés, así como un tercer idioma a determinar en el citado Plan de Seguridad y Salvamento.">
Medios Materiales - Banderas y Cartelerías <i class="fa fa-calculator  pointer" style="font-size:20px !important;" aria-hidden="true" title="Valoración economica del equipo material" (click)="calculadora('materiales')"></i></h4>
<p-table>
<ng-template pTemplate="header" >
    <tr>

      <th class="tamanhofont">Clasificación</th>
      <th class="tamanhofont">Nº de Accesos</th>
      <th class="tamanhofont">Nº de Banderas</th>
      <th class="tamanhofont">Nº de Mástiles</th>
      <th class="tamanhofont">Nº de Carteles</th>
      <th class="tamanhofont">Observaciones</th>

    </tr>
    <tr>

      <th class="centrar"><input type="text"    id="clasificacionM" class="form-control  inputCustom text-center" value="{{clasificacion}}" readonly></th>
      <th class="centrar"><input type="number"  id="naccesoM" class="form-control  inputCustom" value="0"></th>
      <th class="centrar"><input type="number"  id="nbanderasM" class="form-control  inputCustom" value="0"></th>
      <th class="centrar"><input type="number"  id="nmastilesM" class="form-control  inputCustom" value="0"></th>
      <th class="centrar"><input type="number"  id="ncartelesM" class="form-control  inputCustom" value="0"></th>
      <th class="centrar"><input type="number"  id="nbcomplementarias" class="form-control  inputCustom" value="0"></th>
    </tr>
    </ng-template >
</p-table>

<br>
 <h4 class="centrar text-color-grey-646464 font-weight-700" title="Anexo IV.II.A: Grado de Protección Bajo:(…). En todo caso, se dotará a las playas sin vigilancia con un grado de protección bajo, de elementos de seguridad pasiva como aros salvavidas y carretes, entre otros">
                                                                  Medios Materiales - Seguridad Pasiva</h4>
<p-table >
  <ng-template pTemplate="header" >
    <tr>

      <th class="tamanhofont">Logitud</th>
      <th class="tamanhofont">Clasificación</th>
      <th class="tamanhofont">Nº de Aros Salvavidas</th>
      <th class="tamanhofont">Nº de Carretes</th>
      <th class="tamanhofont">Observaciones</th>
    </tr>
    <tr>

      <th class="centrar"><input type="number"  id="longitudSP" class="form-control  inputCustom" readonly></th>
      <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom text-center" value="{{clasificacion}}" readonly></th>
      <th class="centrar"><input type="number"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
      <th class="centrar"><input type="number"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
      <th class="centrar"><textarea class="form-control" rows="1" id="observacionesSP"></textarea></th>
    </ng-template >
</p-table>
<br >
<h4 class="centrar text-color-grey-646464 font-weight-700" title="Las Playas y ZBM con Grado de Protección Moderado y Alto deberán disponer de torres o sillas de vigilancia, de acuerdo a lo establecido en el Anexo IV. II. B y C del Decreto 116/2018.
Anexo IV.II.3. Torre o silla de vigilancia:
'Se situará al menos a no más de 20 metros de la pleamar recomendándose la instalación de una por cada 400 metros de playa, con un área de responsabilidad de 200 metros a cada lado.
Estará dotada con equipamiento de vigilancia, salvamento y megafonía (*). Además dispondrá de juego de banderas y un soporte para su izado hasta una altura mínima de 3 metros. Como equipamiento mínimo de las torres o sillas o vigilancia deberán disponer de un botiquín portátil y un desfibrilador semiautomático (DESA) por cada dos sillas o torres de vigilancia a excepción de playas donde sólo haya una, que dispondrá de tal equipamiento'. (*) El equipamiento de vigilancia, salvamento y megafonía se analiza más adelante.">Medios Materiales - Torre o Silla de Vigilancia</h4>
<p-table>
  <ng-template pTemplate="header" >
    <tr>
      <th class="tamanhofont">Tramo o ector</th>
      <th class="tamanhofont">Clasificación</th>
      <th class="tamanhofont">Nº Torres o Sillas de Vigilancia</th>
      <th class="tamanhofont">Botiquín portátil</th>
      <th class="tamanhofont">Desfibrilador semiautomático (DESA)</th>
      <th class="tamanhofont">Banderas</th>
      <th class="tamanhofont">Sistema de izado a 3 metros</th>
    </tr>
    <tr>
      <th class="centrar"><input type="text"  id="tramo" class="form-control inputCustom" readonly></th>
      <th class="centrar"><input type="text"  id="jefatura" class="form-control  inputCustom text-center" value="{{clasificacion}}" readonly></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
    </ng-template >
</p-table>
<br>


<h4 class="centrar text-color-grey-646464 font-weight-700" >Medios Materiales - Balizamiento</h4>
<p-table>
  <ng-template pTemplate="header">
    <tr>

      <th rowspan="2" class="tamanhofont">Clasificación</th>
      <th colspan="3" class="tamanhofont">Balizamiento de Zonas de Baño</th>
      <th colspan="4" class="tamanhofont">Balizamiento de Canales de Lanzamiento o Varada</th>
      <th rowspan="2" class="tamanhofont">Observaciones</th>
    </tr>
    <tr>
      <th class="tamanhofont">Longitud cuerda (m)</th>
      <th class="tamanhofont">Nº boyas amarillas</th>
      <th class="tamanhofont">Nº señales prohibición</th>
      <th class="tamanhofont">Longitud cuerda (m)</th>
      <th class="tamanhofont">Nº boyas amarillas</th>
      <th class="tamanhofont">Nº boyas verdes</th>
      <th class="tamanhofont">Nº boyas rojas</th>
    </tr>
    <tr>

      <th class="centrar"><input type="text"  id="jefatura" class="form-control  inputCustom text-center" value="{{clasificacion}}" readonly></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><input type="number"  id="jefatura" class="form-control  inputCustom" value="0"  required></th>
      <th class="centrar"><textarea class="form-control" rows="1" id="observacionesM"></textarea></th>

    </ng-template >
</p-table>
</div>
<div class="modal-footer botonCentrado">
  <button type="button" class="btn btn-primary">Actualizar</button>
</div>
</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->




<!-- Modal horario-->
<div class="modal fade" id="horarios" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h5 class="modal-title text-center" id="exampleModalLongTitle">Horarios de salvamento</h5>
        <h4 class="modal-title text-center" style="color:#8CBB28">{{nombre_playa}}</h4>
      </div>
      <div class="modal-body">
        <p-table *ngFor="let hsalvamento of gradeService.records">
          <ng-template pTemplate="header" >
            <tr >

              <th colspan="2" class="centrar">Horario comprendido entre: {{hsalvamento.fecha_inicio | date }} a {{hsalvamento.fecha_fin | date }} </th>

            </tr>
            <tr>
              <th class="centrar"><p-calendar #myCalender [(ngModel)]="altoini" [timeOnly]="true" placeholder="hora inicio" id=""></p-calendar></th>
              <th class="centrar"><p-calendar [(ngModel)]="altofin" [timeOnly]="true" placeholder="hora fin" id="" ></p-calendar></th>
            </tr>
          </ng-template >
        </p-table>
        <br>
        </div>
        <div class="modal-footer botonCentrado">
          <button type="button" class="btn btn-primary">Actualizar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal horario -->
  <div class="modal fade" id="configuracion" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-main modal-dialog-centered" role="document">
      <div class="modal-content">
      <form [formGroup]="formUnitarios" (ngSubmit)="update()">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title text-center" id="exampleModalLongTitle"><span style="color:#8CBB28">Precios unitarios para el municipio de: {{nomMunicipio | titlecase}}</span></h4>
          <h5 class="centrar text-color-grey-646464 font-weight-700" >Medios Humanos</h5>
        </div>
        <div class="modal-body">
          <p-table>
            <ng-template pTemplate="header" >
              <tr>
                <th class="tamanhofont">Jefes de turno (precio/hora) </th>
                <th class="tamanhofont">Socorrista (precio/hora)</th>
                <th class="tamanhofont">Socorrista embarcación (precio/hora)</th>
                <th class="tamanhofont">Socorrista embarcación con PER (precio/hora)</th>
              </tr>
              <tr>
                <th class="centrar"><input type="text" formControlName="jefe_turno_pvp" name="jefe_turno_pvp" id="jefe_turno_pvp" class="form-control  inputCustom" min="0"  ></th>
                <th class="centrar"><input type="number" formControlName="socorrista_pvp" name="socorrista_pvp" id="socorrista_pvp" class="form-control  inputCustom" min="0" ></th>
                <th class="centrar"><input type="number" formControlName="socorrista_embarcacion_pvp" name="socorrista_embarcacion_pvp" id="socorrista_embarcacion_pvp" class="form-control  inputCustom" ></th>
                <th class="centrar"><input type="text" formControlName="socorrista_embarcacion_per_pvp" name="socorrista_embarcacion_per_pvp" id="socorrista_embarcacion_per_pvp" class="form-control  inputCustom" ></th>

              </tr>
              </ng-template >
          </p-table>
          </div>
          <div class="modal-header">
              <h5 class="centrar text-color-grey-646464 font-weight-700" >Medios Materiales</h5>
          </div>
          <div class="modal-body">
            <p-table>
              <ng-template pTemplate="header" >
                <tr>
                  <th class="tamanhofont">Banderas (precio/unidad)</th>
                  <th class="tamanhofont">Mastiles (precio/unidad)</th>
                  <th class="tamanhofont">Cartelería (precio/unidad)</th>
                  <th class="tamanhofont">Banderas complementarias (precio/unidad)</th>
                  <th class="tamanhofont">Aros salvavidas (precio/unidad)</th>
                  <th class="tamanhofont">Carretes (precio/unidad)</th>
                  <th class="tamanhofont">Longitud cuerda (precio/metro)</th>
                  <th class="tamanhofont">Boyas (precio/unidad)</th>
                  <th class="tamanhofont">Señales de prohibición (precio/unidad)</th>
                  <th class="tamanhofont">Sistemas de izado (precio/unidad)</th>
                  <th class="tamanhofont">Torre vigilancia (precio/unidad)</th>
                  <th class="tamanhofont">Desfibrilador (precio/unidad)</th>
                  <th class="tamanhofont">Botiquín (precio/unidad)</th>

                </tr>
                <tr>
                  <th class="centrar"><input type="number" formControlName="bandera_pvp" name="bandera_pvp" id="bandera_pvp" class="form-control  inputCustom"  min="0" pattern="^[0-9]+" ></th>
                  <th class="centrar"><input type="number" formControlName="mastil_pvp" name="mastil_pvp" id="mastil_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+" ></th>
                  <th class="centrar"><input type="number" formControlName="cartel_pvp" name="cartel_pvp" id="cartel_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="bandera_comp_pvp" name="bbandera_comp_pvp" id="bandera_comp_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+" ></th>
                  <th class="centrar"><input type="number" formControlName="salvavidas_pvp" name="salvavidas_pvp" id="salvavidas_pvp" class="form-control  inputCustom"  min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="carrete_pvp" name="carrete_pvp" id="carrete_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+" ></th>
                  <th class="centrar"><input type="number" formControlName="m_cuerda_pvp" name="m_cuerda_pvp" id="m_cuerda_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="boya_pvp" name="boya_pvp" id="boya_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+" ></th>
                  <th class="centrar"><input type="number" formControlName="senales_prohibicion" name="senales_prohibicion" id="senales_prohibicion" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="sistemas_izado_pvp" name="sistemas_izado_pvp" id="sistemas_izado_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="torre_pvp" name="torre_pvp" id="torre_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="desfibrilador_pvp" name="desfibrilador_pvp" id="desfibrilador_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>
                  <th class="centrar"><input type="number" formControlName="botiquin_pvp" name="botiquin_pvp" id="botiquin_pvp" class="form-control  inputCustom" min="0" pattern="^[0-9]+"></th>

                </tr>
                </ng-template >
            </p-table>
            </div>
            <div class="modal-footer botonCentrado">
              <button type="submit" class="btn btn-primary" [disabled]="!formUnitarios.valid">Actualizar</button>
            </div>
            <!-- <input formControlName="id_ayuntamiento" name="id_ayuntamiento" id="id_ayuntamiento" type="hidden" value="">
            <input formControlName="ultimo_editor" name="ultimo_editor" id="ultimo_editor" type="hidden" value="">
            <input formControlName="ultimo_cambio" name="ultimo_cambio" id="ultimo_cambio" type="hidden" value=""> -->
      </form>
        </div>
      </div>
    </div>
<!-- modal para la calculadora  medios humanos-->
<div class="modal fade" tabindex="-1" role="dialog" id="calculadorahumanos">
  <div class="modal-dialog modal-dialog-calculadora" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title text-center" style="color:#8CBB28">IDGSE: {{iddgse}} - {{!nombre_playa ? 'Nombre sin asignar' : nombre_playa}} - {{clasificacion | titlecase}}</h4>
          <h5 class="modal-title text-center">Calculadora de medios -{{medio | titlecase}}</h5>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="jefatura">Jefura (Precio por hora(€))</label>
            <input type="number" class="form-control  inputCustomCal"  id="jefatura" value="0">
          </div>
          <div class="form-group">
            <label for="socorrista">Socorrista (Precio por hora(€))</label>
            <input type="number" class="form-control  inputCustomCal" id="socorrista" value="0">
          </div>
          <div class="form-group">
            <label for="sembarcación">Socorrista embarcación (Precio por hora(€))</label>
            <input type="number" class="form-control  inputCustomCal" id="sembarcación" value="0">
          </div>
          <div class="form-group">
            <label for="sper">Socorristas embarcación con PER (Precio por hora(€))</label>
            <input type="number" class="form-control  inputCustomCal" id="sper" value="0">
          </div>
          <!-- <button type="submit" class="btn btn-default">Submit</button> -->

        <p-table>
          <ng-template pTemplate="header" >
            <tr>

              <th class="tamanhofont">Periodo</th>
              <th class="tamanhofont">Clasificación</th>
              <th class="tamanhofont">G. de protección</th>
              <th class="tamanhofont">Coste total anual jefatura playa o turno</th>
              <th class="tamanhofont">Coste total anual socorristas</th>
              <th class="tamanhofont">Coste total anual socorrista embarcación</th>
              <th class="tamanhofont">Coste total anual socorrista PER</th>
              <th class="tamanhofont">Coste total anual equipo humano</th>
            </tr>
            <tr>

              <th class="centrar"><input type="number"  id="longitudSP" class="form-control  inputCustom" readonly></th>
              <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" value="{{clasificacion}}" readonly></th>
              <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" readonly value="{{grado_proteccion}}"></th>
              <th class="centrar"><input type="number"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="number"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="number"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="number"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
             <th class="centrar"><input type="number"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
            </ng-template >
        </p-table>
        <br>
        <div class="modal-footer botonCentrado">
          <button type="button" class="btn btn-primary">Calcular</button>
        </div>
        </form>
      </div>


    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<!-- modal para la calculadora  medios materiales-->
<div class="modal fade" tabindex="-1" role="dialog" id="calculadoramateriales">
  <div class="modal-dialog modal-dialog-calculadora" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title text-center" style="color:#8CBB28">IDGSE: {{iddgse}} - {{!nombre_playa ? 'Nombre sin asignar' : nombre_playa}} - {{clasificacion | titlecase}}</h4>
          <h5 class="modal-title text-center">Calculadora de medios -{{medio | titlecase}}</h5>
      </div>
      <div class="modal-body">
        <h4 class="modal-title text-center" style="color:#8CBB28">Banderas y Cartelería.</h4>
        <p-table>
          <ng-template pTemplate="header" >
            <tr>
              <th colspan="4" class="tamanhofont">Numero</th>
              <th colspan="4" class="tamanhofont">PVP Unitario</th>
              <th colspan="4" class="tamanhofont">Amortización Anual</th>
              <th colspan="4"  class="tamanhofont">PVP €/año</th>
              <th rowspan="2" class="tamanhofont">PVP Total Anual</th>
            </tr>

            <tr>
              <th class="tamanhofont">Banderas</th>
              <th class="tamanhofont">Mastiles</th>
              <th class="tamanhofont">Carteles</th>
              <th class="tamanhofont">BC(no sabmemos que es)</th>

              <th class="tamanhofont">Banderas</th>
              <th class="tamanhofont">Mastiles</th>
              <th class="tamanhofont">Carteles</th>
              <th class="tamanhofont">BC(no sabmemos que es)</th>

              <th class="tamanhofont">Banderas</th>
              <th class="tamanhofont">Mastiles</th>
              <th class="tamanhofont">Carteles</th>
              <th class="tamanhofont">BC(no sabmemos que es)</th>

              <th class="tamanhofont">Banderas</th>
              <th class="tamanhofont">Mastiles</th>
              <th class="tamanhofont">Carteles</th>
              <th class="tamanhofont">BC(no sabmemos que es)</th>

            </tr>
          <tr>
              <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly></th>
              <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" readonly></th>
              <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
              <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" readonly ></th>
              <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
              <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
              <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
             <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>

             <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly></th>
             <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" readonly></th>
             <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
             <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" ></th>
             <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" readonly></th>
             <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0" readonly></th>
             <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" readonly></th>
             <th class="centrar" style="width:20% important;"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="123456,00" readonly ></th>

          </tr>
            </ng-template >
        </p-table>
        <br>
        <h4 class="modal-title text-center" style="color:#8CBB28">Seguridad Pasiva.</h4>
        <p-table>
          <ng-template pTemplate="header" >
            <tr>
              <th colspan="2" class="tamanhofont">Numero</th>
              <th colspan="2" class="tamanhofont">PVP Unitario</th>
              <th colspan="2" class="tamanhofont">Amortización Anual</th>
              <th colspan="2"  class="tamanhofont">PVP €/año</th>
              <th rowspan="2" class="tamanhofont">PVP Total Anual</th>
            </tr>
            <tr>
              <th class="tamanhofont">Aros Salvavidas</th>
              <th class="tamanhofont">Carretes.</th>

              <th class="tamanhofont">Aros Salvavidas</th>
              <th class="tamanhofont">Carretes.</th>

              <th class="tamanhofont">Aros Salvavidas</th>
              <th class="tamanhofont">Carretes.</th>

              <th class="tamanhofont">Aros Salvavidas</th>
              <th class="tamanhofont">Carretes.</th>

            </tr>
          <tr>
              <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"></th>
              <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom"></th>
              <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal"></th>
              <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal"></th>
              <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom" ></th>
              <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom"></th>
              <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
              <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" readonly ></th>
              <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly value="123456,00" ></th>
          </tr>
            </ng-template >
        </p-table>
        <br>
          <h4 class="modal-title text-center" style="color:#8CBB28">Torre o silla de vigilancia - Balizamiento de Zonas de Baño Marítima</h4>
          <p-table>
            <ng-template pTemplate="header" >
              <tr>
                <th colspan="3" class="tamanhofont">Numero</th>
                <th colspan="3" class="tamanhofont">PVP Unitario</th>
                <th colspan="3" class="tamanhofont">Amortización Anual</th>
                <th colspan="3"  class="tamanhofont">PVP €/año</th>
                <th rowspan="2" class="tamanhofont">PVP Total Anual</th>
              </tr>

              <tr>
                <th class="tamanhofont">Longitud</th>
                <th class="tamanhofont">Boyas amarillas</th>
                <th class="tamanhofont">Señales de prohibición</th>

                <th class="tamanhofont">Longitud</th>
                <th class="tamanhofont">Boyas amarillas</th>
                <th class="tamanhofont">Señales de prohibición</th>

                <th class="tamanhofont">Longitud</th>
                <th class="tamanhofont">Boyas amarillas</th>
                <th class="tamanhofont">Señales de prohibición</th>

                <th class="tamanhofont">Longitud</th>
                <th class="tamanhofont">Boyas amarillas</th>
                <th class="tamanhofont">Señales de prohibición</th>

              </tr>
            <tr>
                <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly></th>
                <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>

                <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly></th>
                <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>

                <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly></th>
                <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
                <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" readonly></th>
                <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom"  readonly value="123456,00"></th>
            </tr>
              </ng-template >
          </p-table>
          <br>
            <h4 class="modal-title text-center" style="color:#8CBB28">Balizamiento de canales de lanzamiento varada</h4>
            <p-table>
              <ng-template pTemplate="header" >
                <tr>
                  <th colspan="4" class="tamanhofont">Numero</th>
                  <th colspan="4" class="tamanhofont">PVP Unitario</th>
                  <th colspan="4" class="tamanhofont">Amortización Anual</th>
                  <th colspan="4"  class="tamanhofont">PVP €/año</th>
                  <th rowspan="2" class="tamanhofont">PVP Total Anual</th>
                </tr>

                <tr>
                  <th class="tamanhofont">Longitud</th>
                  <th class="tamanhofont">Boyas amarillas</th>
                  <th class="tamanhofont">Boyas verdes</th>
                  <th class="tamanhofont">Boyas rojas</th>

                  <th class="tamanhofont">Longitud</th>
                  <th class="tamanhofont">Boyas amarillas</th>
                  <th class="tamanhofont">Boyas verdes</th>
                  <th class="tamanhofont">Boyas rojas</th>

                  <th class="tamanhofont">Longitud</th>
                  <th class="tamanhofont">Boyas amarillas</th>
                  <th class="tamanhofont">Boyas verdes</th>
                  <th class="tamanhofont">Boyas rojas</th>

                  <th class="tamanhofont">Longitud</th>
                  <th class="tamanhofont">Boyas amarillas</th>
                  <th class="tamanhofont">Boyas verdes</th>
                  <th class="tamanhofont">Boyas rojas</th>

                </tr>
              <tr>
                  <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom" ></th>
                  <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" ></th>
                  <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" ></th>
                  <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" ></th>
                  <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
                  <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
                  <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" ></th>
                  <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>
                 <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0"></th>

                 <th class="centrar"><input type="text"  id="tramoSP" class="form-control inputCustom" value="0" ></th>
                 <th class="centrar"><input type="text"  id="longitudSP" class="form-control  inputCustom" value="0" ></th>
                 <th class="centrar"><input type="text"  id="clasificacionSP" class="form-control  inputCustom  tamanhofontcal" value="0" ></th>
                 <th class="centrar"><input type="text"  id="gproteccionSP" class="form-control  inputCustom tamanhofontcal" readonly value="0" ></th>
                 <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" readonly></th>
                 <th class="centrar"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="0" readonly></th>
                 <th class="centrar"><input type="text"  id="salvavidasSP" class="form-control  inputCustom" value="0" readonly></th>
                 <th class="centrar" style="width:20% important;"><input type="text"  id="carretesSP" class="form-control  inputCustom" value="123456,00" readonly ></th>

              </tr>
                </ng-template >
            </p-table>

      </div>
      <div class="modal-footer botonCentrado">
        <button type="button" class="btn btn-primary">Calcular</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



<!-- Modal tiempo atmosferico-->
<div id="tiempo" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header modal-header-custom">
        <h4 class="modal-title text-color-grey-646464 font-weight-700 padding-bottom-20 position-relative text-capitalize text-center">Predicción del tiempo</h4>
        <h3 *ngIf="nombre_playa" class="modal-title text-color-grey-646464 font-weight-700 padding-bottom-20 position-relative text-capitalize text-center">{{nombre_playa}}</h3>
      </div>
      <div class="modal-body text-center">
        <img class="tamanho_img text-center" src="http://openweathermap.org/img/w/{{datosclima.weather[0].icon}}.png" title="{{datosclima.weather[0].description}}"><br>
        <table class="table table-striped">
          <tbody>
            <tr>
              <th scope="row">Descripcion:</th>
              <td> {{datosclima.weather[0].description | titlecase}}</td>
            </tr>
            <tr>
              <th scope="row">Temperatura:</th>
              <td>{{datosclima.main.temp}}º</td>
            </tr>
            <tr>
              <th scope="row">Temperatura max:</th>
                <td><span style="color:#F52E1A">{{datosclima.main.temp_max}}º</span></td>
            </tr>
            <tr>
              <th scope="row">Temperatura min:</th>
                <td><span style="color:#0BB6EC">{{datosclima.main.temp_min}}º</span></td>
            </tr>
            <tr>
              <th scope="row">Humedad:</th>
                <td>{{datosclima.main.humidity}}%</td>
            </tr>
            <tr>
              <th scope="row">Presion:</th>
                <td>{{datosclima.main.pressure}} bars</td>
            </tr>
            <tr>
              <th scope="row">V. viento:</th>
                <td>{{datosclima.wind.speed}} m/s</td>
            </tr>
            <tr>
              <th scope="row">Inclinación del viento:</th>
                <td>{{datosclima.wind.deg}}º/td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
      </div>
    </div>

  </div>
</div>
